<div class="container">
  <header>
    <h1>{{ title() }}</h1>
  </header>

  <div class="todo-input">
    <input 
      type="text" 
      [(ngModel)]="newTodoTitle" 
      (keyup.enter)="addTodo()"
      placeholder="Add a new todo..." 
    />
    <button (click)="addTodo()">Add</button>
  </div>

  <div class="todo-stats">
    <span>Total: {{ totalCount() }}</span>
    <span>Pending: {{ pendingCount() }}</span>
    <span>Completed: {{ completedCount() }}</span>
  </div>

  <ul class="todo-list">
    @for (todo of todos(); track todo.id) {
      <li [class.completed]="todo.completed">
        <label>
          <input 
            type="checkbox" 
            [checked]="todo.completed" 
            (change)="toggleTodo(todo.id)"
          />
          <span>{{ todo.title }}</span>
        </label>
        <button class="delete-btn" (click)="deleteTodo(todo.id)">Delete</button>
      </li>
    } @empty {
      <li class="empty-message">No todos yet. Add one above!</li>
    }
  </ul>
</div>

<router-outlet />
